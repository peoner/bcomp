#summary Модель БЭВМ

= Модель БЭВМ =

<wiki:toc max_depth="1"/>

= Существующие пользовательские интерфейсы =

 # [cli Эмулятор БЭВМ для командной строки]
 # [gui Графический интерфейс эмулятора]
 # [decoder Декомпилятор микропрограммы]

= Существующие микропрограммы =
 # [BaseMicroProgram Исходная микропрограмма]
 # [OptimizedMicroProgram Оптимизированная микропрограмма]
 # [ExtendedMicroProgram Расширенная микропрограмма]

= Существующие наборы команд =
Набор команд определяется используемой микропрограммой. На данный момент реализованы:
 # [BaseInstrSet Оригинальный набор команд]
 # [ExtendedInstrSet Расширенный набор команд]

= Ассемблер =
Разработан согласованный с используемыми в учебных пособиях обозначениями диалект [asm ассемблера].

= Отличия модели от оригинальной =
 # Для безадресных команд и команд ввода-вывода исполнение происходит на цикле исполнения.
 # Регистр состояния является полноценным регистром, а не объединением однобитовых регистров.
 # Из РС удалены 4 старших бита, отвечавших за отображение выполняемых циклов и выполнение операции ввода-вывода. РС, соответственно, теперь представляет собой 9-ти битный регистр.
 # При выполнении команды TSF проверка состояния 6-ого бита РС и пропуск следующей команды реализованы на [BaseMicroProgram микропрограммном уровне], из-за чего во всех реализованных микропрограммах отличается адрес начала цикла прерывания.
 # При выполнении любой операции ввода-вывода в 6-й бит РС записывается значение с шины состояние флага ВУ. Если выполнялась команда TSF, то 6-й бит РС попадёт состояние флага готовности соответствующего ВУ. Если выполнялась другая команда ввода-вывода, то в 6-й бит РС гарантированно будет записан 0, что обеспечивает достаточность проверки 6-ого бита РС для определения необходимости пропуска команды без проверки того, какая именно команда ввода-вывода была выполнена.
 # Установка 5-ого бита РС использует состояние 4-ого бита РС и шины запрос прерывания. Состояние 6-ого бита РС при этом не используется.
 # Для ОМК1 убрана возможность одновременной записи содержимого БР в А, РД, РА, РК.
 # Для ОМК1 убрана возможность сброса готовности всех ВУ.
 # "Тактовый генератор" запускает операцию чтения из памяти микрокоманд в регистр микрокоманд.
 # Увеличение содержимого СчМК на 1 инициируется при записи в него нулевого значения.
 # Добавлено внешнее устройство вывода 0. Новое ВУ при ненулевом значении в своём РД раз в указанное в нём количество секунд устанавливает свою готовность.

= Интерпретация недокументированных особенностей БЭВМ =
 # Выполнение пультовых операций записывает в СчМК соответствующий адрес и, если не установлен режим потактового выполнения, записывает 1 в 8-й бит РС (Программа), запуская микропрограмму на выполнение. В противном случае выполняется один такт.
 # У0 (HLT) подаётся на В0, который записывает 0 в 8-й бит РС. Также 8-й бит РС сбрасывается при включении потактового режима выполнения.
 # Микропрограмма выполняется до тех пор, пока 8-й бит РС равен 1, т.е. пока не будет выполнена микрокоманда HLT или установлен режим потактового выполнения.
